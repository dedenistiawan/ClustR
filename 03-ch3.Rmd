# Algoritma Fuzzy C-Means {#fcm}

```{=html}
<style>
body{
text-align: justify}
</style>
```

```{r, child="_setup.Rmd"}
```

Algoritma fuzzy c-means (FCM) merupakan salah satu metode clustering yang banyak digunakan dalam analisis data dan pengolahan citra. Berbeda dengan algoritma clustering tradisional seperti k-means, yang mengelompokkan data ke dalam cluster yang jelas dan tegas, FCM memberikan fleksibilitas dengan memungkinkan setiap data untuk memiliki derajat keanggotaan pada lebih dari satu cluster. Hal ini menjadikan FCM sangat berguna dalam situasi di mana batasan antara cluster tidak dapat ditentukan dengan jelas [@bezdek1981pattern].

FCM pertama kali diperkenalkan oleh Bezdek pada tahun 1981 dan sejak saat itu telah banyak diterapkan dalam berbagai bidang, termasuk pengolahan citra, pengenalan pola, dan analisis data multidimensi. Metode ini bekerja dengan meminimalkan fungsi objektif yang mengukur kesalahan antara data dan pusat cluster, dengan mempertimbangkan derajat keanggotaan setiap data terhadap cluster yang ada. Proses ini dilakukan secara iteratif hingga konvergensi tercapai, di mana perubahan pusat cluster dan derajat keanggotaan menjadi sangat kecil [@dunn1973fuzzy].

Salah satu keunggulan FCM adalah kemampuannya untuk menangani data yang memiliki noise atau outlier. Dalam banyak aplikasi dunia nyata, data sering kali tidak bersih dan mengandung kesalahan pengukuran. Dengan menggunakan derajat keanggotaan, FCM dapat mengurangi pengaruh data yang tidak representatif terhadap hasil clustering, sehingga menghasilkan model yang lebih robust dan akurat [@pal1995cluster].

Namun, meskipun FCM memiliki banyak kelebihan, algoritma ini juga memiliki beberapa kelemahan. Salah satunya adalah ketergantungan pada pemilihan jumlah cluster yang tepat, yang dapat mempengaruhi hasil akhir. Selain itu, FCM juga dapat menjadi sensitif terhadap inisialisasi pusat cluster, yang dapat menyebabkan hasil yang berbeda pada setiap iterasi [@huang1998extensions]. Oleh karena itu, penelitian lebih lanjut diperlukan untuk mengembangkan metode yang dapat mengatasi masalah ini.

Dalam konteks perkembangan teknologi dan kebutuhan analisis data yang semakin kompleks, FCM tetap menjadi salah satu metode yang relevan dan banyak digunakan. Penelitian dan pengembangan lebih lanjut dalam algoritma ini diharapkan dapat meningkatkan kinerjanya dan memperluas aplikasinya di berbagai bidang, termasuk kecerdasan buatan dan analisis big data. Dengan demikian, pemahaman yang mendalam tentang FCM dan aplikasinya sangat penting bagi para peneliti dan praktisi di bidang ini.

Klastering dengan algoritma Fuzzy C-Means didasarkan pada teori logika fuzzy yang diperkenalkan oleh Lotfi Zadeh pada tahun 1965 dengan nama himpunan fuzzy (fuzzy set). Fuzzy C-Means Clustering pertama kali diperkenalkan oleh Dun pada (1973) dan diperbaiki oleh Bezdek [@bezdek1981pattern] . Dalam teori fuzzy, keangotaan sebuah data diberikan dengan suatu nilai derajat keanggotaan yang jangkauan nilainya 0 sampai 1. Semakin tinggi nilai derajat keanggotaannya maka semakin tinggi nilai keanggotaan sebuah data dalam suatu kelompok dan semakin kecil nilai derajat keanggotaannya maka semakin rendah nilai keanggotaan sebuah data dalam suatu kelompok.

```{r, eval = my_output == "html", results='asis', echo=FALSE, purl=FALSE}
cat('
<div class = "keyconcept" <div class = "keyconcept" id="KC2.1"> 
<h3 class = "right"> Persamaan 3.1 </h3> 
<h3 class= "left"> Derajat Keanggotaan </h3> 

<p> Asumsikan terdapat sejumlah data dalam dataset $X$ yang berisi $n$ data yang 
dinotasikan $X={x_1,x_2, â€¦,x_n}$, dimana setiap data mempunyai fitur $r$ dimensi: $x_{i1}, x_{i2}, ..., x_{ir}$, dinotasikan $x_i={x_i1, x_i2, ..., x_ir}$. Ada sejumlah klaster $C$ dengan centroid: $C_1, C_2, ..., C_k$, dimana $k$ adalah jumlah klaster. Setiap data mempunyai derajat keanggotaan pada setiap klaster, dinyatakan dengan $u_{ij}$, dengan nilai diantara 0 dan 1, $i$ menyatakan data $x_i$ dan $j$ menyatakan klaster $c_j$. Jumlah nilai derajat keanggotaan setiap data $x_i$ selalu sama dengan 1, yang diformulasikan pada persamaan berikut:

$$\\sum_{j=1}^k u_{i j}=1$$

</p> 
</div>')
```

## Tahapan Algoritma Fuzzy C-Means

```{=html}
<style>
body{
text-align: justify}
</style>
```

### 1. Inisialisasi Parameter {-}
Tentukan jumlah cluster \( c \) yang diinginkan. Inisialisasi pusat cluster \( V \) secara acak atau menggunakan metode tertentu (misalnya, memilih titik acak dari dataset). Tentukan parameter fuzziness \( m \) (biasanya \( m > 1 \), sering kali diambil nilai 2). Inisialisasi derajat keanggotaan \( U \) (matriks keanggotaan) dengan nilai acak antara 0 dan 1, dengan syarat bahwa jumlah keanggotaan untuk setiap data harus sama dengan 1.

### 2. Hitung Pusat Cluster{-}
Hitung pusat cluster baru \( V_j \) untuk setiap cluster \( j \) menggunakan rumus:
  \[
  V_j = \frac{\sum_{i=1}^{N} (u_{ij}^m \cdot x_i)}{\sum_{i=1}^{N} u_{ij}^m}
  \]
di mana \( u_{ij} \) adalah derajat keanggotaan data \( i \) terhadap cluster \( j \), \( x_i \) adalah data ke-i, dan \( N \) adalah jumlah total data.

### 3. Perbarui Derajat Keanggotaan {-}
Hitung derajat keanggotaan \( u_{ij} \) untuk setiap data \( i \) dan cluster \( j \) menggunakan rumus:
  \[
  u_{ij} = \frac{1}{\sum_{k=1}^{c} \left( \frac{d_{ij}}{d_{ik}} \right)^{\frac{2}{m-1}}}
  \]
di mana \( d_{ij} \) adalah jarak antara data \( i \) dan pusat cluster \( j \).

### 4. Periksa Konvergensi {-}
Hitung perubahan pusat cluster dan derajat keanggotaan. Jika perubahan tersebut lebih kecil dari ambang batas yang telah ditentukan (misalnya, \( \epsilon \)), maka algoritma dianggap konvergen dan dapat dihentikan. Jika tidak, kembali ke langkah 2.

### 5. Output Hasil Clustering {-}
Setelah konvergensi tercapai, hasil akhir dari algoritma adalah pusat cluster \( V \) dan matriks keanggotaan \( U \). Setiap data dapat dikategorikan ke dalam cluster dengan derajat keanggotaan tertinggi.

## Eksperimeen Fuzzy C-Means

### Install dan Load Packagaes

```{r eval=FALSE}
library(ppclust)
library(factoextra)
library(fclust)
library(cluster)
```

### Data

```{r Load_data_fcm,warning=FALSE, tidy=FALSE}
library (readr)
urlfile = "https://raw.githubusercontent.com/dedenistiawan/Dataset/main/Basis%20Data%20Terpadu%20Jateng.csv"
data<-read.csv(url(urlfile), row.names = "Kabupaten")
```

### Hasil Clustering

```{r}
library(ppclust)
res.fcm <- fcm(data, centers=3)
as.data.frame(res.fcm$u)
```

```{r}
# Visualize using corrplot
library(corrplot)
corrplot(res.fcm$u, is.corr = FALSE)
```

```{r}
res.fcm$v0
```

```{r}
res.fcm$v
```

### Hasil Clustering FCM

```{r}
summary(res.fcm)
```

### Run FCM with Multiple Starts

```{r}
res.fcm <- fcm(data, centers=3, nstart=5)
```

```{r}
res.fcm <- fcm(data, centers=3, nstart=5, fixmemb=TRUE)
```

### Display the best solution

```{r}
res.fcm$func.val
```

```{r}
res.fcm$iter
```

```{r}
res.fcm$best.start
```

### Display the summary of clustering results

```{r}
summary(res.fcm)
```

### Cluster Plot with fviz_cluster

```{r}
res.fcm2 <- ppclust2(res.fcm, "kmeans")
factoextra::fviz_cluster(res.fcm2, data = data, 
  ellipse.type = "convex",
  palette = "jco",
  repel = TRUE)
```

### Cluster Plot with clusplot

```{r}
res.fcm3 <- ppclust2(res.fcm, "fanny")

cluster::clusplot(scale(data), res.fcm3$cluster,  
  main = "Cluster plot of Iris data set",
  color=TRUE, labels = 2, lines = 2, cex=1)
```
